# 🦊 如何在 MetaMask 中信任本地合约地址

## 问题
MetaMask 将 Hardhat 默认合约地址 `0x5FbDB2315678afecb367f032d93F642f64180aa3` 标记为恶意。

## 原因
- 这是 Hardhat 的确定性地址（每次本地部署都是这个地址）
- 钓鱼网站经常伪装成本地环境使用这个地址欺骗用户
- MetaMask 为了安全，默认标记为可疑

## 解决方案

### 方法1：忽略警告（推荐）
每次交易时，在警告页面：
1. 展开 "See details"
2. 勾选 "I understand the risks"
3. 点击 "Continue anyway"

### 方法2：关闭 MetaMask 安全警告（谨慎）
1. 打开 MetaMask
2. 点击右上角头像 → Settings
3. Security & Privacy
4. 找到 "Phishing detection" 或类似选项
5. **暂时关闭**（测试完记得开回来！）

### 方法3：使用不同的合约地址
修改 Hardhat 配置，使用不同的部署账户，这样合约地址就会改变。

见下方 "更改部署地址" 说明。

## 为什么本地地址是安全的？

✅ **你的情况：**
- 运行在 `localhost:8545`
- Hardhat 节点在你的电脑上
- 合约是你自己部署的
- 完全安全，可以信任

❌ **危险情况：**
- 网站声称是"本地环境"但实际连接到远程节点
- 要求你发送真实的 ETH/BNB
- 在主网或真实测试网上使用这个地址

## 验证安全性

检查 MetaMask 是否连接到正确的本地网络：
```
Network: Localhost 8545
RPC URL: http://127.0.0.1:8545 或 http://localhost:8545
Chain ID: 31337 或 1337
```

如果这些都正确，就是安全的！

## 总结

**对于本地开发：**
- ✅ 忽略 MetaMask 警告并继续是安全的
- ✅ 这是正常的本地开发体验
- ✅ 不会有任何风险

**对于生产环境：**
- ⚠️ 永远不要忽略真实网络上的安全警告
- ⚠️ 部署到测试网/主网时使用新地址
